"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[657],{316:function(e,s,t){t.d(s,{N:function(){return r},T:function(){return c}});t(72791);var n=t(57504),a=t(83099),i=t(80184),r=function(){return(0,i.jsx)("div",{className:"post__skeleton",children:(0,i.jsxs)("div",{className:"post__skeleton-content",children:[(0,i.jsx)(n.Z.Image,{active:!0,className:"post__skeleton-content-IMG"}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(n.Z.Avatar,{active:!0,size:"large",shape:"circle"}),(0,i.jsx)(n.Z.Input,{active:!0,size:"small"})]}),(0,i.jsx)(n.Z,{className:"post__skeleton-content-title",active:!0,paragraph:{rows:12}})]})})},c=function(){return(0,i.jsx)("div",{className:"publication",children:(0,i.jsxs)("div",{className:"publication__skeleton",children:[(0,i.jsx)(n.Z.Image,{active:!0,className:"publication__skeleton-img"}),(0,i.jsx)(n.Z,{className:"publication__skeleton-text",active:!0,title:{width:"200px"},paragraph:{rows:2,width:["100%","100%"]}})]})})}},19742:function(e,s,t){t.d(s,{Z:function(){return x}});var n=t(74165),a=t(15861),i=t(29439),r=t(72791),c=t(31752),l=t(60732),o=t(52425),d=t(28782),u=t(17289),m=t(80184),h=o.Z.TextArea,x=function(e){var s=e.item,t=e.bloggerId,o=e.getCommentsOfPost,x=(0,r.useState)(!1),p=(0,i.Z)(x,2),v=p[0],j=p[1],f=(0,r.useState)(""),g=(0,i.Z)(f,2),Z=g[0],_=g[1],N=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.hE.deleteComment(s._id);case 2:0===e.sent.resultCode&&o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){j(!v),_(v?"":s.text)},k=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.hE.updateComment(Z,s._id);case 2:0===e.sent.resultCode?(_(""),o(),j(!v)):console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=t===s.user._id&&!v&&function(e){if(e)return Date.now()-Date.parse(e)<5e5;return!1}(s.createdAt);return(0,m.jsx)("div",{className:"post__comments-commentWrapper",children:(0,m.jsxs)("div",{className:"post-comment",children:[(0,m.jsx)("div",{className:"post-avatar",children:(0,m.jsx)("img",{src:s.user.avatarUrl.small,alt:"ava"})}),(0,m.jsxs)("div",{className:"nameAndText",children:[(0,m.jsxs)("div",{className:"headerOf-comment",children:[s.user.fullName,y&&(0,m.jsxs)("div",{children:[(0,m.jsx)(c.Z,{onClick:w}),(0,m.jsx)(l.Z,{onClick:N})]})]}),v?(0,m.jsx)("div",{className:"input",children:(0,m.jsx)(h,{className:"message__form-textarea",size:"small",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f...",autoSize:{minRows:2,maxRows:6},value:Z,onChange:function(e){return _(e.target.value)}})}):(0,m.jsx)("span",{children:s.text}),(0,m.jsxs)("div",{className:"footerOf-comment",children:[(0,m.jsx)("span",{children:(0,m.jsx)(d.F,{date:s.updatedAt,showFullDate:!0})}),v&&(0,m.jsxs)("div",{className:"footerOf-comment-options",children:[(0,m.jsx)("span",{onClick:k,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,m.jsx)("span",{onClick:w,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})]})})}},86541:function(e,s,t){t.d(s,{U4:function(){return y},p_:function(){return r},UV:function(){return k},Md:function(){return b},eW:function(){return I},uI:function(){return B},Vp:function(){return z}});t(19742);var n=t(72791),a=t(316),i=t(80184),r=function(e){var s=e.posts,t=e.id,n=e.isFetching,r=Array.from({length:2}).map((function(e,s){return(0,i.jsx)(a.N,{},"skeleton"+s)}));return s.length?(0,i.jsx)(i.Fragment,{children:n?r:s.map((function(e){return(0,i.jsx)(k,{id:e._id,imageUrl:e.imageUrl,title:e.title,tags:e.tags,text:e.text,user:e.user,createdAt:e.createdAt,viewsCount:e.viewsCount,commentsCount:e.commentsCount,isEditable:e.user._id===t},e._id)}))}):(0,i.jsx)(a.N,{})},c=t(1413),l=t(45987),o=t(29439),d=t(52425),u=t(24215),m=t(92995),h=t(11087),x=t(20195),p=t(26002),v=t(81694),j=t.n(v),f=t(75270),g=t(64209),Z=t(27376),_=t(28782),N=t.p+"static/media/defaultPostImage.a4c9ce5174a2cd0721ca.jpg",w=["node","inline","className","children"],k=(d.Z.TextArea,function(e){var s=e.id,t=e.user,a=e.imageUrl,r=e.title,d=e.tags,v=e.text,k=e.viewsCount,y=e.commentsCount,b=e.createdAt,P=e.isEditable,C=(0,n.useState)(!1),T=(0,o.Z)(C,2),A=T[0],S=T[1],F=(0,n.useState)(!1),U=(0,o.Z)(F,2),D=U[0],M=U[1],I=function(){S(!A)};return(0,i.jsx)(i.Fragment,{children:A?(0,i.jsx)(p.Tc,{postHandler:I,currentPost:{title:r,text:v,tags:d,imageUrl:a},id:s,getPostById:null}):(0,i.jsx)("div",{className:"postPreview",children:(0,i.jsxs)("div",{className:j()("postPreview__main",{"postPreview__main-tooltip":D}),children:[(0,i.jsx)(h.rU,{to:"/posts/".concat(s),children:(0,i.jsx)("div",{className:"postPreview__main-headerImg",children:(0,i.jsx)("img",{src:a?a.medium:N,alt:"image"})})}),(0,i.jsxs)("div",{className:"postPreview__main-info",children:[(0,i.jsxs)("div",{className:"postPreview__main-info-author",children:[(0,i.jsx)("div",{className:"post-avatar",children:(0,i.jsx)("img",{src:t.avatarUrl.small,alt:"ava"})}),(0,i.jsxs)("div",{className:"postAuthor-name",children:[(0,i.jsx)("span",{children:t.fullName}),(0,i.jsx)("span",{children:(0,i.jsx)(_.F,{date:b,showFullDate:!0})})]})]}),(0,i.jsxs)(h.rU,{to:"/posts/".concat(s),children:[(0,i.jsx)("div",{className:"postPreview__main-info-title",children:(0,i.jsx)("h1",{children:r})}),(0,i.jsx)("div",{className:"postPreview__main-info-tags",children:d.map((function(e,s){return(0,i.jsx)(z,{item:e},"tag-"+s)}))}),(0,i.jsx)("div",{className:"postPreview__main-info-text",children:(0,i.jsx)(x.D,{children:v,className:"markdown",components:{code:function(e){e.node;var s=e.inline,t=e.className,n=e.children,a=(0,l.Z)(e,w),r=/language-(\w+)/.exec(t||"");return!s&&r?(0,i.jsx)(g.Z,(0,c.Z)({children:String(n).replace(/\n$/,""),style:Z.Z,customStyle:{backgroundColor:"#2c2f48",borderRadius:"15px"},language:r[1],PreTag:"div"},a)):(0,i.jsx)("code",(0,c.Z)((0,c.Z)({className:t},a),{},{children:n}))}}})})]}),(0,i.jsxs)("div",{className:"postPreview__main-info-views",children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsxs)("div",{className:"views",children:[(0,i.jsx)("span",{children:(0,i.jsx)(u.Z,{})}),(0,i.jsx)("span",{children:k})]}),(0,i.jsxs)("div",{className:"comments",children:[(0,i.jsx)("span",{children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)("span",{children:y})]})]}),P?(0,i.jsx)(f.Z,{editPost:I,id:s,handleTooltipVisibility:function(e){M(e)}}):(0,i.jsx)("div",{})]})]})]})})})}),y=function(e){var s=e.item;return(0,i.jsx)(h.rU,{to:"/posts/".concat(s.post),state:{scrollToBottom:!0},children:(0,i.jsxs)("div",{className:"searchPost__comments-list-item  common-card-animation",children:[(0,i.jsx)("div",{style:{width:"52px"},className:"clip-comment-avatar",children:(0,i.jsx)("img",{src:s.user.avatarUrl.small,alt:"ava"})}),(0,i.jsxs)("div",{className:"searchPost__comments-list-item-name",children:[(0,i.jsxs)("div",{className:"headerOf-comment",children:[(0,i.jsx)("span",{children:s.user.fullName}),(0,i.jsx)("span",{children:(0,i.jsx)(_.F,{date:s.createdAt,showFullDate:!0})})]}),(0,i.jsx)("span",{children:s.text})]})]})})},b=function(e){var s=e.item,t=e.getPostsWithTag;return(0,i.jsxs)("li",{className:"tagList-item",onClick:function(){return t(s)},children:["#",s]})},P=t(74165),C=t(15861),T=t(47105),A=t(35337),S=t(17289),F=t(33101),U=t(11032),D=t(53163),M=t(14553),I=function(e){var s=e.loadPopularPosts,t=e.loadAllPosts,a=e.loadMyPosts,r=e.isAuthorTabPicked,c=e.isMyTabPicked,l=e.isAuth,d=(0,n.useState)(void 0),u=(0,o.Z)(d,2),m=u[0],h=u[1],x=(0,n.useState)(void 0),p=(0,o.Z)(x,2),v=p[0],j=p[1],f=(0,n.useState)("\u041d\u043e\u0432\u044b\u0435"),g=(0,o.Z)(f,2),Z=g[0],_=g[1],N=(0,T.T)();(0,n.useEffect)((function(){k(),w(),c&&I("\u041c\u043e\u0438")}),[]);var w=function(){var e=(0,C.Z)((0,P.Z)().mark((function e(){var s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.hE.getAll();case 2:s=e.sent,j(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,C.Z)((0,P.Z)().mark((function e(){var s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Gg.getTags();case 2:s=e.sent,h(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){switch(e){case"\u041d\u043e\u0432\u044b\u0435":t(),N(M.rZ.pickAuthorTab(!1)),N(M.rZ.pickMyTab(!1)),_("\u041d\u043e\u0432\u044b\u0435");break;case"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435":s(),N(M.rZ.pickAuthorTab(!1)),N(M.rZ.pickMyTab(!1)),_("\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435");break;case"\u041c\u043e\u0438":a(),N(M.rZ.pickAuthorTab(!1)),N(M.rZ.pickMyTab(!1)),_("\u041c\u043e\u0438")}},E=function(e){N((0,A.h2)(e))};return(0,i.jsxs)("div",{className:"searchPost",children:[(0,i.jsx)("div",{className:"searchPost__navigation",children:(0,i.jsx)(D.Z,{block:!0,onChange:I,defaultValue:"\u041d\u043e\u0432\u044b\u0435",value:r?"\u0410\u0432\u0442\u043e\u0440":c?"\u041c\u043e\u0438":Z,options:["\u041d\u043e\u0432\u044b\u0435","\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435",{label:"\u041c\u043e\u0438",value:"\u041c\u043e\u0438",disabled:!l},"\u0410\u0432\u0442\u043e\u0440"]})}),(0,i.jsx)("div",{className:"searchPost__input",children:(0,i.jsx)(U.tg,{onSearch:function(e){N((0,A.Jl)(e)).then((function(){N(M.rZ.addSearchFilter(e))}))}})}),(0,i.jsxs)("div",{className:"searchPost__tagBlock",children:[(0,i.jsx)("span",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0442\u044d\u0433\u0438"}),(0,i.jsx)("div",{className:"searchPost__tagBlock-tags",children:m?(0,i.jsx)("ul",{className:"tagList",children:m.map((function(e,s){return(0,i.jsx)(b,{item:e,getPostsWithTag:E},"tag-"+s)}))}):(0,i.jsx)(F.Z,{title:!1,active:!0,paragraph:{rows:5,width:["60%","45%","50%","55%","40%"]}})})]}),(0,i.jsxs)("div",{className:"searchPost__comments",children:[(0,i.jsx)("span",{className:"comments-description",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),(0,i.jsx)("div",{className:"searchPost__comments-list",children:v?v.map((function(e){return(0,i.jsx)(y,{item:e},e._id)})):Array.from({length:5}).map((function(){return(0,i.jsx)("div",{className:"skeleton-comment",children:(0,i.jsx)(F.Z.Input,{active:!0,size:"large"})})}))})]})]})},E=t(54753),V=function(e,s,t){return"perspective(1100px) rotateX(".concat(e,"deg) rotateY(").concat(s,"deg) scale(").concat(t,")")},B=function(e){var s=e.item,t=(0,n.useRef)(null),a=(0,n.useState)([0,0,1]),r=(0,o.Z)(a,2),c=r[0],l=r[1],d=(0,E.useSpring)({xys:c,config:E.config.slow});return(0,i.jsx)(E.animated.div,{ref:t,className:"publication",style:{transform:d.xys.to(V)},onMouseLeave:function(){return l([0,0,1])},onMouseMove:function(e){var s,n=null===(s=t.current)||void 0===s?void 0:s.getBoundingClientRect();n&&l(function(e,s,t){return[-(s-t.top-t.height/2)/12,(e-t.left-t.width/2)/12,1.08]}(e.clientX,e.clientY,n))},children:(0,i.jsxs)(h.rU,{to:"/posts/".concat(s._id),children:[(0,i.jsx)("img",{src:s.imageUrl.medium?s.imageUrl.medium:N,alt:"image"}),(0,i.jsxs)("div",{className:"publication__glass",children:[(0,i.jsx)("h2",{children:s.title}),(0,i.jsx)("p",{children:s.tags.map((function(e,s){return(0,i.jsx)(z,{item:e},"tag-"+s)}))})]})]})})},z=function(e){var s=e.item;return(0,i.jsxs)("span",{children:["#",s]})}},75270:function(e,s,t){t.d(s,{Z:function(){return p}});var n=t(29439),a=t(72791),i=t(50798),r=t(93020),c=t(30501),l=t(67575),o=t(60732),d=t(82622),u=t(35337),m=t(47105),h=t(57689),x=t(80184),p=function(e){var s=e.editPost,t=e.id,p=e.handleTooltipVisibility,v=(0,a.useState)(!1),j=(0,n.Z)(v,2),f=j[0],g=j[1],Z=(0,a.useState)(!1),_=(0,n.Z)(Z,2),N=_[0],w=_[1],k=(0,a.useState)(!1),y=(0,n.Z)(k,2),b=y[0],P=y[1],C=(0,m.T)(),T=(0,h.s0)();(0,a.useEffect)((function(){p(!!(f||N||b))}),[f,N,b]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"edit",children:[(0,x.jsx)(i.Z,{mouseLeaveDelay:.05,mouseEnterDelay:.3,visible:N,onVisibleChange:function(e){f||w(e)},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442",children:(0,x.jsx)(c.Z,{onClick:s})}),(0,x.jsx)(i.Z,{mouseLeaveDelay:.05,mouseEnterDelay:.3,visible:b,onVisibleChange:function(e){f||P(e)},title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442",children:(0,x.jsx)(r.Z,{content:(0,x.jsxs)("div",{className:"popover-options",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(l.Z,{style:{color:"red"}}),(0,x.jsx)("a",{onClick:function(){C((0,u.vd)(t)).then((function(){T("/posts")}))},children:"\u0414\u0430"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(o.Z,{style:{color:"#39e324"}}),(0,x.jsx)("a",{onClick:function(){g(!1)},children:"\u041d\u0435\u0442"})]})]}),title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442?",trigger:"click",visible:f,onVisibleChange:function(e){P(!1),g(e)},color:"#2c2f48",overlayClassName:"custom-popover",children:(0,x.jsx)(d.Z,{})})})]})})}},28782:function(e,s,t){t.d(s,{C:function(){return m},F:function(){return h}});var n=t(72791),a=t(45939),i=t(60736),r=t(13478),c=t(11528),l=t(22258),o=t(18324),d=t(80184),u={enGB:i.Z,eo:r.Z,ru:c.Z},m=function(e){var s=e.date,t=Date.parse(s)+108e5;return(0,d.jsxs)(n.Fragment,{children:["\u041e\u043d\u043b\u0430\u0439\u043d ",(0,a.Z)(t,{addSuffix:!0,locale:u.ru})]})},h=function(e){var s,t=e.date,a=e.showFullDate,i=void 0!==a&&a;return s=i?Date.parse(t):Date.parse(t)+108e5,(0,l.Z)(s)?(0,d.jsx)(n.Fragment,{children:(0,o.Z)(s,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 HH:mm")}):i?(0,d.jsx)(n.Fragment,{children:(0,o.Z)(s,"d.MM.yyyy \u0432 HH:mm")}):(0,d.jsx)(n.Fragment,{children:(0,o.Z)(s,"d.MM.yyyy")})}}}]);
//# sourceMappingURL=657.847f76bd.chunk.js.map