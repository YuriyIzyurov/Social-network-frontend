"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[272],{27272:function(e,n,s){s.r(n),s.d(n,{default:function(){return C}});var r=s(1413),i=s(29439),a=s(78687),l=s(72791),t=s(2126),o=s(50798),c=s(87309),d=s(57504),u=s(65457),g=s(92995),f=s(50713),h=s(3142),m=s(11087),v=s(80184),P=function(e){var n=e.users,s=(e.loadMoreData,e.isFetching),r=(e.isPagesLast,e.openDialog),i=e.followInProcess,a=e.handlingFollow,l=e.handlingUnfollow,P=e.usersRef,j=function(e){var n=e.item;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(t.ZP.Item.Meta,{avatar:(0,v.jsx)(m.rU,{to:"/profile/"+n.id,children:(0,v.jsx)(u.fh,{avatarUrl:n.photos.small,name:n.name})}),title:(0,v.jsx)(m.rU,{to:"/profile/"+n.id,children:n.name}),description:n.status}),(0,v.jsx)(o.Z,{title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433",children:(0,v.jsx)(g.Z,{className:"icon",onClick:function(e){return r(n.id)}})}),n.followed?(0,v.jsx)(o.Z,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439",children:(0,v.jsx)(c.Z,{className:"users__find-button",shape:"circle",icon:(0,v.jsx)(h.Z,{className:"icon"}),size:"large",disabled:i.some((function(e){return e===n.id})),onClick:function(){l(n.id)}})}):(0,v.jsx)(o.Z,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f",children:(0,v.jsx)(c.Z,{className:"users__find-button",shape:"circle",icon:(0,v.jsx)(f.Z,{className:"icon"}),size:"large",disabled:i.some((function(e){return e===n.id})),onClick:function(){a(n.id)}})})]})};return(0,v.jsx)("div",{id:"scrollableDiv",className:"users__find-content",ref:P,children:(0,v.jsx)(t.ZP,{dataSource:n,renderItem:function(e){return(0,v.jsx)(t.ZP.Item,{children:(0,v.jsx)(d.Z,{loading:s,active:!0,avatar:!0,children:(0,v.jsx)(j,{item:e})})},e.id)}})})},j=s(35337),x=s(69221),F=s(47105),U=s(11032),w=s(57689),p=(0,l.memo)((function(e){var n=e.totalUsers,s=e.handlingFilteredUsers,r=e.usersOnPage,i=e.activePage,a=e.getUsersOnPage,l=e.users,t=e.searchFilter,o=e.handlingFollow,c=e.handlingUnfollow,d=e.followInProcess,u=e.isFetching,g=e.usersRef,f=(0,F.T)(),h=(0,w.s0)(),m=i+1,p=Math.abs(n/r-i)<2;return(0,v.jsx)("div",{className:"users",children:(0,v.jsxs)("div",{className:"users__find",children:[(0,v.jsx)(U.gf,{handlingFilteredUsers:s}),(0,v.jsx)(P,{users:l,handlingFollow:o,handlingUnfollow:c,followInProcess:d,loadMoreData:function(){f((0,j.sH)(m,r,t))},isPagesLast:p,openDialog:function(e){f((0,j.uv)(e));var n="/dialogs/".concat(e);h(n)},isFetching:u,usersRef:g}),(0,v.jsx)("div",{className:"users__find-paginator",children:(0,v.jsx)(x.Z,{showSizeChanger:!1,defaultCurrent:1,current:i,total:n,onChange:a})})]})})})),Z=s(5107),I=s(87781),_=s(40469),b=s(14553);var C=(0,I.qC)(Z.eE,(0,a.$j)((function(e){return{users:(0,_.Rf)(e),totalUsers:(0,_.gd)(e),usersOnPage:(0,_.pv)(e),activePage:(0,_.zE)(e),isFetching:(0,_.ab)(e),followInProcess:(0,_.uD)(e),searchFilter:(0,_.QT)(e)}}),{handlingUsers:j.ZR,handlingAddUsers:j.sH,handlingFollowAction:j.yH,handlingUnfollowAction:j.aX}))((function(e){var n=(0,m.lr)(),s=(0,i.Z)(n,2),t=s[0],o=s[1],c=(0,a.I0)(),d=(0,l.useRef)(null);return(0,l.useEffect)((function(){var n=e.activePage,s=e.usersOnPage,i=e.searchFilter,a=t.get("term"),l=t.get("friend"),o=t.get("page"),d=n,u=i;return o&&(d=+o),a&&(u=(0,r.Z)((0,r.Z)({},u),{},{term:a})),l&&(u=(0,r.Z)((0,r.Z)({},u),{},{friend:"null"===l?null:"true"===l})),e.handlingUsers(d,s,u),function(){c(b.hI.setActivePage(1)),c(b.hI.filterSettings({term:"",friend:null}))}}),[]),(0,l.useEffect)((function(){var n=e.searchFilter,s=e.activePage,r={};n.term&&(r.term=n.term),null!==n.friend&&(r.friend=String(n.friend)),1!==s&&(r.page=String(s)),o(r)}),[e.searchFilter,e.activePage]),(0,v.jsx)(p,{totalUsers:e.totalUsers,usersOnPage:e.usersOnPage,activePage:e.activePage,users:e.users,followInProcess:e.followInProcess,getUsersOnPage:function(n,s){var r,i=e.searchFilter;null===(r=d.current)||void 0===r||r.scrollTo(0,0),e.handlingUsers(n,s,i)},handlingFollow:e.handlingFollowAction,handlingUnfollow:e.handlingUnfollowAction,handlingFilteredUsers:function(n){var s=e.usersOnPage;e.handlingUsers(1,s,n)},searchFilter:e.searchFilter,isFetching:e.isFetching,usersRef:d})}))}}]);
//# sourceMappingURL=272.5eeb947b.chunk.js.map