"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[657],{316:function(e,t,s){s.d(t,{N:function(){return r},T:function(){return c}});s(72791);var n=s(57504),a=s(83099),i=s(80184),r=function(){return(0,i.jsx)("div",{className:"post__skeleton",children:(0,i.jsxs)("div",{className:"post__skeleton-content",children:[(0,i.jsx)(n.Z.Image,{active:!0,className:"post__skeleton-content-IMG"}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(n.Z.Avatar,{active:!0,size:"large",shape:"circle"}),(0,i.jsx)(n.Z.Input,{active:!0,size:"small"})]}),(0,i.jsx)(n.Z,{className:"post__skeleton-content-title",active:!0,paragraph:{rows:12}})]})})},c=function(){return(0,i.jsx)("div",{className:"publication",children:(0,i.jsxs)("div",{className:"publication__skeleton",children:[(0,i.jsx)(n.Z.Image,{active:!0,className:"publication__skeleton-img"}),(0,i.jsx)(n.Z,{className:"publication__skeleton-text",active:!0,title:{width:"200px"},paragraph:{rows:2,width:["100%","100%"]}})]})})}},19742:function(e,t,s){s.d(t,{Z:function(){return x}});var n=s(74165),a=s(15861),i=s(29439),r=s(72791),c=s(31752),o=s(60732),l=s(52425),d=s(28782),u=s(17289),m=s(80184),h=l.Z.TextArea,x=function(e){var t=e.item,s=e.bloggerId,l=e.getCommentsOfPost,x=(0,r.useState)(!1),p=(0,i.Z)(x,2),v=p[0],j=p[1],f=(0,r.useState)(""),g=(0,i.Z)(f,2),Z=g[0],_=g[1],N=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.hE.deleteComment(t._id);case 2:0===e.sent.resultCode&&l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){j(!v),_(v?"":t.text)},k=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.hE.updateComment(Z,t._id);case 2:0===e.sent.resultCode?(_(""),l(),j(!v)):console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=s===t.user._id&&!v&&function(e){if(e)return Date.now()-Date.parse(e)<5e5;return!1}(t.createdAt);return(0,m.jsx)("div",{className:"post__comments-commentWrapper",children:(0,m.jsxs)("div",{className:"post-comment",children:[(0,m.jsx)("div",{className:"post-avatar",children:(0,m.jsx)("img",{src:t.user.avatarUrl.small,alt:"ava"})}),(0,m.jsxs)("div",{className:"nameAndText",children:[(0,m.jsxs)("div",{className:"headerOf-comment",children:[t.user.fullName,y&&(0,m.jsxs)("div",{children:[(0,m.jsx)(c.Z,{onClick:w}),(0,m.jsx)(o.Z,{onClick:N})]})]}),v?(0,m.jsx)("div",{className:"input",children:(0,m.jsx)(h,{className:"message__form-textarea",size:"small",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f...",autoSize:{minRows:2,maxRows:6},value:Z,onChange:function(e){return _(e.target.value)}})}):(0,m.jsx)("span",{children:t.text}),(0,m.jsxs)("div",{className:"footerOf-comment",children:[(0,m.jsx)("span",{children:(0,m.jsx)(d.F,{date:t.updatedAt,showFullDate:!0})}),v&&(0,m.jsxs)("div",{className:"footerOf-comment-options",children:[(0,m.jsx)("span",{onClick:k,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,m.jsx)("span",{onClick:w,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})]})})}},86541:function(e,t,s){s.d(t,{U4:function(){return y},p_:function(){return r},UV:function(){return k},Md:function(){return P},eW:function(){return I},uI:function(){return B},Vp:function(){return z}});s(19742);var n=s(72791),a=s(316),i=s(80184),r=function(e){var t=e.posts,s=e.id,n=e.isFetching,r=Array.from({length:2}).map((function(e,t){return(0,i.jsx)(a.N,{},"skeleton"+t)}));return t.length?(0,i.jsx)(i.Fragment,{children:n?r:t.map((function(e){return(0,i.jsx)(k,{id:e._id,imageUrl:e.imageUrl,title:e.title,tags:e.tags,text:e.text,user:e.user,createdAt:e.createdAt,viewsCount:e.viewsCount,commentsCount:e.commentsCount,isEditable:e.user._id===s},e._id)}))}):(0,i.jsx)(a.N,{})},c=s(1413),o=s(45987),l=s(29439),d=s(52425),u=s(24215),m=s(92995),h=s(11087),x=s(20195),p=s(26002),v=s(81694),j=s.n(v),f=s(75270),g=s(64209),Z=s(27376),_=s(28782),N=s.p+"static/media/defaultPostImage.a4c9ce5174a2cd0721ca.jpg",w=["node","inline","className","children"],k=(d.Z.TextArea,function(e){var t=e.id,s=e.user,a=e.imageUrl,r=e.title,d=e.tags,v=e.text,k=e.viewsCount,y=e.commentsCount,P=e.createdAt,C=e.isEditable,b=(0,n.useState)(!1),T=(0,l.Z)(b,2),A=T[0],S=T[1],F=(0,n.useState)(!1),U=(0,l.Z)(F,2),D=U[0],M=U[1],I=function(){S(!A)};return(0,i.jsx)(i.Fragment,{children:A?(0,i.jsx)(p.Tc,{postHandler:I,currentPost:{title:r,text:v,tags:d,imageUrl:a},id:t,getPostById:null}):(0,i.jsx)("div",{className:"postPreview",children:(0,i.jsxs)("div",{className:j()("postPreview__main",{"postPreview__main-tooltip":D}),children:[(0,i.jsx)(h.rU,{to:"/posts/".concat(t),children:(0,i.jsx)("div",{className:"postPreview__main-headerImg",children:(0,i.jsx)("img",{src:a?a.medium:N,alt:"image"})})}),(0,i.jsxs)("div",{className:"postPreview__main-info",children:[(0,i.jsxs)("div",{className:"postPreview__main-info-author",children:[(0,i.jsx)("div",{className:"post-avatar",children:(0,i.jsx)("img",{src:s.avatarUrl.small,alt:"ava"})}),(0,i.jsxs)("div",{className:"postAuthor-name",children:[(0,i.jsx)("span",{children:s.fullName}),(0,i.jsx)("span",{children:(0,i.jsx)(_.F,{date:P,showFullDate:!0})})]})]}),(0,i.jsxs)(h.rU,{to:"/posts/".concat(t),children:[(0,i.jsx)("div",{className:"postPreview__main-info-title",children:(0,i.jsx)("h1",{children:r})}),(0,i.jsx)("div",{className:"postPreview__main-info-tags",children:d.map((function(e,t){return(0,i.jsx)(z,{item:e},"tag-"+t)}))}),(0,i.jsx)("div",{className:"postPreview__main-info-text",children:(0,i.jsx)(x.D,{children:v,className:"markdown",components:{code:function(e){e.node;var t=e.inline,s=e.className,n=e.children,a=(0,o.Z)(e,w),r=/language-(\w+)/.exec(s||"");return!t&&r?(0,i.jsx)(g.Z,(0,c.Z)({children:String(n).replace(/\n$/,""),style:Z.Z,customStyle:{backgroundColor:"#2c2f48",borderRadius:"15px"},language:r[1],PreTag:"div"},a)):(0,i.jsx)("code",(0,c.Z)((0,c.Z)({className:s},a),{},{children:n}))}}})})]}),(0,i.jsxs)("div",{className:"postPreview__main-info-views",children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsxs)("div",{className:"views",children:[(0,i.jsx)("span",{children:(0,i.jsx)(u.Z,{})}),(0,i.jsx)("span",{children:k})]}),(0,i.jsxs)("div",{className:"comments",children:[(0,i.jsx)("span",{children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)("span",{children:y})]})]}),C?(0,i.jsx)(f.Z,{editPost:I,id:t,handleTooltipVisibility:function(e){M(e)}}):(0,i.jsx)("div",{})]})]})]})})})}),y=function(e){var t=e.item;return(0,i.jsx)(h.rU,{to:"/posts/".concat(t.post),state:{scrollToBottom:!0},children:(0,i.jsxs)("div",{className:"searchPost__comments-list-item  common-card-animation",children:[(0,i.jsx)("div",{style:{width:"52px"},className:"clip-comment-avatar",children:(0,i.jsx)("img",{src:t.user.avatarUrl.small,alt:"ava"})}),(0,i.jsxs)("div",{className:"searchPost__comments-list-item-name",children:[(0,i.jsxs)("div",{className:"headerOf-comment",children:[(0,i.jsx)("span",{children:t.user.fullName}),(0,i.jsx)("span",{children:(0,i.jsx)(_.F,{date:t.createdAt,showFullDate:!0})})]}),(0,i.jsx)("span",{children:t.text})]})]})})},P=function(e){var t=e.item,s=e.getPostsWithTag;return(0,i.jsxs)("li",{className:"tagList-item",onClick:function(){return s(t)},children:["#",t]})},C=s(74165),b=s(15861),T=s(47105),A=s(35337),S=s(17289),F=s(33101),U=s(11032),D=s(53163),M=s(14553),I=function(e){var t=e.loadPopularPosts,s=e.loadAllPosts,a=e.loadMyPosts,r=e.isAuthorTabPicked,c=e.isMyTabPicked,o=e.isAuth,d=(0,n.useState)(void 0),u=(0,l.Z)(d,2),m=u[0],h=u[1],x=(0,n.useState)(void 0),p=(0,l.Z)(x,2),v=p[0],j=p[1],f=(0,n.useState)("\u041d\u043e\u0432\u044b\u0435"),g=(0,l.Z)(f,2),Z=g[0],_=g[1],N=(0,T.T)();(0,n.useEffect)((function(){k(),w(),c&&I("\u041c\u043e\u0438")}),[]);var w=function(){var e=(0,b.Z)((0,C.Z)().mark((function e(){var t;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.hE.getAll();case 2:t=e.sent,j(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,b.Z)((0,C.Z)().mark((function e(){var t;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Gg.getTags();case 2:t=e.sent,h(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){switch(e){case"\u041d\u043e\u0432\u044b\u0435":s(),N(M.rZ.pickAuthorTab(!1)),N(M.rZ.pickMyTab(!1)),_("\u041d\u043e\u0432\u044b\u0435");break;case"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435":t(),N(M.rZ.pickAuthorTab(!1)),N(M.rZ.pickMyTab(!1)),_("\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435");break;case"\u041c\u043e\u0438":a(),N(M.rZ.pickAuthorTab(!1)),N(M.rZ.pickMyTab(!1)),_("\u041c\u043e\u0438")}},E=function(e){N((0,A.h2)(e))};return(0,i.jsxs)("div",{className:"searchPost",children:[(0,i.jsx)("div",{className:"searchPost__navigation",children:(0,i.jsx)(D.Z,{block:!0,onChange:I,defaultValue:"\u041d\u043e\u0432\u044b\u0435",value:r?"\u0410\u0432\u0442\u043e\u0440":c?"\u041c\u043e\u0438":Z,options:["\u041d\u043e\u0432\u044b\u0435","\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435",{label:"\u041c\u043e\u0438",value:"\u041c\u043e\u0438",disabled:!o},"\u0410\u0432\u0442\u043e\u0440"]})}),(0,i.jsx)("div",{className:"searchPost__input",children:(0,i.jsx)(U.tg,{onSearch:function(e){N((0,A.Jl)(e)).then((function(){N(M.rZ.addSearchFilter(e))}))}})}),(0,i.jsxs)("div",{className:"searchPost__tagBlock",children:[(0,i.jsx)("span",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0442\u044d\u0433\u0438"}),(0,i.jsx)("div",{className:"searchPost__tagBlock-tags",children:m?(0,i.jsx)("ul",{className:"tagList",children:m.map((function(e,t){return(0,i.jsx)(P,{item:e,getPostsWithTag:E},"tag-"+t)}))}):(0,i.jsx)(F.Z,{title:!1,active:!0,paragraph:{rows:5,width:["60%","45%","50%","55%","40%"]}})})]}),(0,i.jsxs)("div",{className:"searchPost__comments",children:[(0,i.jsx)("span",{className:"comments-description",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),(0,i.jsx)("div",{className:"searchPost__comments-list",children:v?v.map((function(e){return(0,i.jsx)(y,{item:e},e._id)})):Array.from({length:5}).map((function(){return(0,i.jsx)("div",{className:"skeleton-comment",children:(0,i.jsx)(F.Z.Input,{active:!0,size:"large"})})}))})]})]})},E=s(54753),O=function(e,t,s){return"perspective(1100px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(s,")")},B=function(e){var t=e.item,s=(0,n.useRef)(null),a=(0,n.useState)([0,0,1]),r=(0,l.Z)(a,2),c=r[0],o=r[1],d=(0,E.useSpring)({xys:c,config:E.config.slow});return(0,i.jsx)(E.animated.div,{ref:s,className:"publication",style:{transform:d.xys.to(O)},onMouseLeave:function(){return o([0,0,1])},onMouseMove:function(e){var t,n=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect();n&&o(function(e,t,s){return[-(t-s.top-s.height/2)/12,(e-s.left-s.width/2)/12,1.08]}(e.clientX,e.clientY,n))},children:(0,i.jsxs)(h.rU,{to:"/posts/".concat(t._id),children:[(0,i.jsx)("img",{src:t.imageUrl.medium?t.imageUrl.medium:N,alt:"image"}),(0,i.jsxs)("div",{className:"publication__glass",children:[(0,i.jsx)("h2",{children:t.title}),(0,i.jsx)("p",{children:t.tags.map((function(e,t){return(0,i.jsx)(z,{item:e},"tag-"+t)}))})]})]})})},z=function(e){var t=e.item;return(0,i.jsxs)("span",{children:["#",t]})}},75270:function(e,t,s){s.d(t,{Z:function(){return v}});var n=s(29439),a=s(72791),i=s(50798),r=s(93020),c=s(30501),o=s(67575),l=s(60732),d=s(82622),u=s(35337),m=s(47105),h=s(57689),x=s(68407),p=s(80184),v=function(e){var t=e.editPost,s=e.id,v=e.handleTooltipVisibility,j=(0,a.useState)(!1),f=(0,n.Z)(j,2),g=f[0],Z=f[1],_=(0,a.useState)(!1),N=(0,n.Z)(_,2),w=N[0],k=N[1],y=(0,a.useState)(!1),P=(0,n.Z)(y,2),C=P[0],b=P[1],T=(0,m.T)(),A=(0,h.s0)();(0,a.useEffect)((function(){v(!!(g||w||C))}),[g,w,C]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"edit",children:[(0,p.jsx)(i.Z,{mouseLeaveDelay:.05,mouseEnterDelay:.3,open:w,onOpenChange:function(e){g||k(e)},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442",children:(0,p.jsx)(c.Z,{onClick:t})}),(0,p.jsx)(i.Z,{mouseLeaveDelay:.05,mouseEnterDelay:.3,open:C,onOpenChange:function(e){g||b(e)},title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442",children:(0,p.jsx)(r.Z,{content:(0,p.jsxs)("div",{className:"popover-options",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(o.Z,{style:{color:"red"}}),(0,p.jsx)("a",{onClick:function(){(0,x.S)(s,(function(){T((0,u.vd)(s)).then((function(){A("/posts")}))}))},children:"\u0414\u0430"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.Z,{style:{color:"#39e324"}}),(0,p.jsx)("a",{onClick:function(){Z(!1)},children:"\u041d\u0435\u0442"})]})]}),title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442?",trigger:"click",open:g,onOpenChange:function(e){b(!1),Z(e)},color:"#2c2f48",overlayClassName:"custom-popover",children:(0,p.jsx)(d.Z,{})})})]})})}},28782:function(e,t,s){s.d(t,{C:function(){return m},F:function(){return h}});var n=s(72791),a=s(45939),i=s(60736),r=s(13478),c=s(11528),o=s(22258),l=s(18324),d=s(80184),u={enGB:i.Z,eo:r.Z,ru:c.Z},m=function(e){var t=e.date,s=Date.parse(t)+108e5;return(0,d.jsxs)(n.Fragment,{children:["\u041e\u043d\u043b\u0430\u0439\u043d ",(0,a.Z)(s,{addSuffix:!0,locale:u.ru})]})},h=function(e){var t,s=e.date,a=e.showFullDate,i=void 0!==a&&a;return t=i?Date.parse(s):Date.parse(s)+108e5,(0,o.Z)(t)?(0,d.jsx)(n.Fragment,{children:(0,l.Z)(t,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 HH:mm")}):i?(0,d.jsx)(n.Fragment,{children:(0,l.Z)(t,"d.MM.yyyy \u0432 HH:mm")}):(0,d.jsx)(n.Fragment,{children:(0,l.Z)(t,"d.MM.yyyy")})}}}]);
//# sourceMappingURL=657.66a69f46.chunk.js.map